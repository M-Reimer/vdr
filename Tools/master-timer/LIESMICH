Master-Timer
============
(w) by Matthias Schniedermeyer (ms@citd.de)


1. Einleitung
-------------

Master-Timer ist ein System zum automatischen Aufnehmen von Serien und Filmen.
Beim Aufruf werden die Konfigurationsdateien gelesen, die Datei "epg.data" im
aktuellen Verzeichnis nach passenden Sendungen durchsucht und die ermittelten
Timer per SVDRP in VDR programmiert. Danach beendet sich Master-Timer.

Entsprechend empfiehlt es sich, Master-Timer per cronjob aufzurufen.

2. Konfigurationsdateien
------------------------

Alle Konfigurationsdateien liegen unter "~/.master-timer". Es werden
regulaere Ausdruecke ohne Unterscheidung der Gross-/Kleinschreibung
benutzt.

config: Die Hauptkonfigurationsdatei.

deepblack: Eine Negativliste von Titeln, die man NIEMALS NIMMER sehen will.
           Die epg-datensaetze werden beim Parsen einfach entfernt.

subtitle-movies: Eine Liste der "Subtitel", die ein Zeichen fuer einen Film
  sind (soweit die von den Sendern richtig ausgefuellt sind). Die
  Einstellungen in dieser Datei werden fuer das Makro "MOVIE" in torecord
  benutzt.
  Kommentarzeilen sind nicht erlaubt.

torecord: Liste der aufzunehmenden Filme.

done: Liste der Titel/Subtitel, die bereits aufgenommen wurden. Timer, die
  hier auftauchen, werden in VDR automatisch geloescht.

channels-to-scan: Diese Kanaele werden vom Skript "scan-channels" durch-
  geschaltet (zwecks Einlesen der EPG-Daten). Die Datei wird von Master-
  Timer selbst nicht benutzt.

3. Anmerkungen
--------------

- einige Sender fuellen die EPG-Felder nicht korrekt aus. Diese Fehler
  werden von Master-Timer automatisch korrigiert.

  Pro7: Title aus dem Subtitle entfernen '<Title> / <Subtitle>'
  Pro7: Timer zwischen 00:00 und 05:00 werden einen Tag in die Zukunft
        verschoben (Als unguten Nebeneffekt hat dies zur Folge das zum
        aktuellen Tag NICHT die epg-Daten das folgenden Tags (=Das was in
        der Fernsehzeitschrift noch auf der gleichen Seite ist) mehr gesendet
        werden. Wenn man also "Last Minute" etwas aufnehmen will, dann muss
        man (leider) einen Timer "per Hand" in VDR einprogrammieren!)
  VOX/VIVA: Subtitle ist in "" eingeschlossen nd nach ". " steht die description
  VIVA: Wenn der Subtitle mit einem Space beginnt, dann wird der komplette
        Subtitle in die Description verschoben
  RTL2: Wenn der EPG-Datensatz eine Dauer von kleiner/gleich 1 Sekunde hat, 
        wird er einfach verworfen.

Bis auf den jeweils 2ten VIVA&Pro-7 Bug werden die Fixes an jedem
epg-Datensatz ausprobiert.

4. Bekannte Bugs
----------------

- Es wird nicht geprueft ob noch genug DVB-Karten vorhanden sind
- "Joined timers" werden nur automatisch geloescht wenn alle dazugehoerigen
  Sendungen "done" sind.
